## React Form 처리

- HTML / CSS 할 때 오렌지 어쩌구 하면서 form 처리
- React는 HTML과 차이가 있다. HTML 양식은 제출되면, 다음페이지로 이동. React에서는 제출 후 폼 데이터에 접근할 수 있는 JS 함수를 호출하고 다음 페이지로의 이동을 방지하고 싶은 경우가 흔히 있다(SPA). .prevenetDefault()를 이용하여 제출 자체를 피하는 방법을 어제 마지막으로 다루었다.

1. MyForm2.jsx 를 생성
2. App.jsx에 MyForm2.jsx 만 배치

이후 input 하나와 button 하나가 있는 최소한 폼을 생성하고, 입력한 field의 값을 가져오기 위해 onChange 이벤트 핸들러 사용예정

useState() 훅을 활용하여, text라는 상태 변수를 하나 생성. 그리고 input필드의 값이 변경되면 새 값이 상태에 개신 될 수 있도록 작성할 예정.

이 MyForm 컴포넌트는 폼 데이터가 리엑트에 의해 처리되기 때문에 _제어 컴포넌트_ 라고 불립니다.

제어되지 않는 컴포넌트에서 폼 데이터는 DOM에 의해서만 처리될겁니다.

setText(event.target.value); 문을 통해 input field에서 값을 가져와서 상태에 저장하고, 제출 버튼을 눌렀을 때 입력한 값을 alert로 출력  
이하는 예시

```jsx
import { useState } from "react";

function MyForm2() {
  const [text, setText] = useState("");

  const handleChange = (event) => {
    setText(event.target.value);
    console.log(text);
  };

  // input field에 입력한 것을 submit하면 날려보낼 수 있도록 하는 함수를 작성
  const handleSubmit = (event) => {
    alert(`'${text}' 라고 입력하셨습니다.`);
    event.preventDefault();
  };

  return (
    <form onSubmit={handleSubmit}>
      <input type="text" onChange={handleChange} />
      <br />
      <br />
      <input type="submit" value="클릭하세요 🙏" />
    </form>
  );
}

export default MyForm2;
```

이상에서 어제 내용과 헷갈릴 수 있는데, 상태가 업데이트 도니다고 해서 매번 리렌더링이 일어나는 것은 아니다. 상태의 변화를 감지하여 리렌더링을 일으키키 위한 Hook은 useEffect()였다.

## React Developer Tools 확인하는 법

f12 눌러서 Components로 들어가면 작성한 코드상에서의 Hook을 확인 가능. MyForm을 기준으로 했을 때 text라는 상태 하나 밖에 없기 때문에

hook

1. state : "입력한 값"
   를 확인 가능

그러면 다수의 상태를 확인하는 부분을 체크

1. MyForm3.jsx를 생성
2. App.jsx MyForm3를 추가

근데 우리가 todolist 때문에 하나짜리 input으로 작성해서 그렇지 대부분의 경우 입력 form에는 입력 필드가 복수로 구성. 각각의 상태를 선언하는 방법도 있지만 객체를 이용하여 처리하는 방법도 존재.  
이하는 예시

```jsx
import { useState } from "react";

function MyForm3() {
  const [user, setUser] = useState({
    firstName: "",
    lastName: "",
    email: "",
  });

  const handleSubmit = (event) => {
    alert(`Hello, ${user.firstName} ${user.lastName}`);
    event.preventDefault();
  };

  const handleChange = (event) => {
    setUser({ ...user, [event.target.name]: event.target.value });
  };

  return (
    <form onSubmit={handleSubmit}>
      <label>First Name : </label>
      <input type="text" name="firstName" onChange={handleChange} value={user.firstName} />
      <br />
      <label>Last Name : </label>
      <input type="text" name="lastName" onChange={handleChange} value={user.lastName} />
      <br />
      <label>Email : </label>
      <input type="text" name="email" onChange={handleChange} value={user.email} />
      <br />
      <input type="submit" value="제출" />
    </form>
  );
}

export default MyForm3;
```

JS 객체에서 특정 value를 참조하는 방법

1. 객체명.키

   - console.log(person.firstName);

2. 객체명.['키']
   - console.log(person.['firstName'])

자 그러면 lastName과 email에 대한 부분을 여러분이 완성하고, 맨 마지막에 input type='text'까지 적용해서 input 창에 firstName / lastName 입력 후에 제출 버튼 눌러서 alert를 띄우시오

### 과제

1. MyForm4.jsx를 생성
2. App3.jsx를 만들어서 기존부분을 복사해 놓고, App.jxs는 초기화 해서 생성한 MyForm4를 삽입
3. MyForm3를 참조하는데, 상태를 각각 선언하고, MyForm3와 동일하게 기능할 수 있도록 코드 작성
